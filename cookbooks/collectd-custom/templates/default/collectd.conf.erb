#
# This file is generated by Chef
# Do not edit, changes will be overwritten
#

##############################################################################
# Global                                                                     #
#----------------------------------------------------------------------------#
# Global settings for the daemon.                                            #
##############################################################################

<% unless @hostname.nil? || @hostname == '' %>
Hostname "<%= @hostname %>"
FQDNLookup true
<% else %>
FQDNLookup false
<% end %>
BaseDir "<%= @dir %>"
PIDFile "<%= @pid_file %>"
PluginDir "<%= @dir %>/lib/collectd"
TypesDB "<%= @dir %>/share/collectd/types.db"
Interval <%= @interval %>
ReadThreads <%= @read_threads %>

##############################################################################
# Logging                                                                    #
#----------------------------------------------------------------------------#
# Plugins which provide logging functions should be loaded first, so log     #
# messages generated when loading or configuring other plugins can be        #
# accessed.                                                                  #
##############################################################################

<% if @plugins.keys.include?('syslog') %>
LoadPlugin syslog
<Plugin syslog>
  <%= collectd_plugin_conf(@plugins['syslog']['config']) %>
</Plugin>
<% end %>

<% if @plugins.keys.include?('logfile') %>
LoadPlugin logfile
<Plugin logfile>
  <%= collectd_plugin_conf(@plugins['logfile']['config']) %>
</Plugin>
<% end %>

##############################################################################
# Includes section                                                           #
#----------------------------------------------------------------------------#
# Load in extra config, usually for loading additional plugins.              #
##############################################################################

Include "<%= @dir %>/etc/conf.d/*.conf"
